(this["webpackJsonpWeather-app"]=this["webpackJsonpWeather-app"]||[]).push([[0],{109:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(28),r=n.n(a),i=(n(109),n.p,n(26),n(8)),o=n(15),s=n(38),l=n(1),u=function(e){var t=e.favoriteCity,n=Object(c.useState)(""),a=Object(i.a)(n,2),r=(a[0],a[1]);return Object(c.useEffect)((function(){return function(){var e=JSON.parse(localStorage.getItem("favoriteCities"));e&&0!==(e=e.filter((function(e){return e.Key===t.Key}))).length&&r("Favorite city")}()}),[t]),Object(l.jsx)("div",{className:"text-container",children:Object(l.jsx)("h1",{className:"header",children:t.LocalizedName||"Favorite cities"})})},j=n(156),b=n(167),d=n(85),h=n.n(d),p="CHANGE_THEME",f="CHANGE_UNIT",O="CHANGE_CITY",v="UPDATE_FORCASTS",x="DEFAULT_FORCASTS",m="ADD_FAVORITE",y="DELETE_FAVORITE",g=function(){var e=Object(o.c)((function(e){return e.cityReducer})),t=Object(o.b)();return Object(l.jsx)("div",{children:Object(l.jsx)(b.a,{onClick:function(){t({type:m,payload:e})},color:"primary","aria-label":"add to shopping cart",children:Object(l.jsx)(h.a,{fontSize:"large"})})})},w=n(86),N=n.n(w),k=function(){var e=Object(o.c)((function(e){return e.cityReducer})),t=Object(o.b)();return Object(l.jsx)(b.a,{onClick:function(){t({type:y,payload:e.Key})},color:"primary","aria-label":"add to shopping cart",children:Object(l.jsx)(N.a,{fontSize:"large"})})},T=function(){return Object(l.jsx)("div",{className:"button-container",children:Object(l.jsxs)(j.a,{direction:"row",spacing:1,children:[Object(l.jsx)(g,{}),Object(l.jsx)(k,{})]})})},C=n(163),S=function(){var e=Object(o.b)(),t=Object(c.useState)(!0),n=Object(i.a)(t,2),a=n[0],r=n[1];return Object(l.jsx)(C.a,{onClick:function(){r(!a),e({type:p,payload:a}),console.log("clicked")},children:"Change theme"})},A=function(){var e=Object(o.c)((function(e){return e.cityReducer}));return Object(l.jsxs)("nav",{className:"navbar-container",children:[Object(l.jsx)(u,{favoriteCity:e}),Object(l.jsx)(S,{}),Object(l.jsxs)("ul",{className:"navbar-ul",children:[Object(l.jsx)("li",{className:"navbar-li",children:Object(l.jsx)(s.b,{className:"navbar-link",to:"/weather-app",children:" Weather "})}),Object(l.jsx)("li",{className:"navbar-li",children:Object(l.jsx)(s.b,{className:"navbar-link",to:"/weather-app/favorites",children:" Favorites "})})]}),Object(l.jsx)(T,{})]})},F=n(14),R=n(23),D=n.n(R),E=n(35),z=function(e){var t=e.Key;return fetch("https://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?apikey=").concat("4jiV4kQw8qp9aKj7rTVgSPBcJJSGQ5zJ","&language=en-us&details=true")).then((function(e){return e.json()}))},K=function(e){return fetch("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=").concat("4jiV4kQw8qp9aKj7rTVgSPBcJJSGQ5zJ")).then((function(e){return e.json()}))},I=(n(55),n(24)),M=function(e){return e<550},V=function(){var e=Object(c.useState)(),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(o.b)(),s=function(){var e=Object(E.a)(D.a.mark((function e(){var t,c,a,i;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o=n,fetch("https://dataservice.accuweather.com//locations/v1/cities/autocomplete?apikey=".concat("4jiV4kQw8qp9aKj7rTVgSPBcJJSGQ5zJ","&q=").concat(o,"&language=en-us HTTP/1.1")).then((function(e){return e.json()}));case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Object(I.b)("Cant get ".concat(n," forecasts, pick another city"));case 9:return e.prev=9,e.next=12,u(t);case 12:return c=e.sent,e.next=15,K(c.Key);case 15:a=e.sent,i=a.DailyForecasts,r({type:v,payload:i}),e.next=23;break;case 20:e.prev=20,e.t1=e.catch(9),Object(I.b)("Can't get ".concat(n," forecasts"));case 23:case"end":return e.stop()}var o}),e,null,[[0,6],[9,20]])})));return function(){return e.apply(this,arguments)}}(),u=function(e){return r({type:O,payload:e[0]}),e[0]},j=function(e){var t=function(e){return e.target.value.replace(RegExp(/[^A-Z a-z]/gi),"")}(e);a(t)};return Object(l.jsxs)("div",{className:"search-container",children:[Object(l.jsxs)("div",{className:"search-bar",children:[Object(l.jsx)("input",{className:"search-input",value:n,onChange:function(e){return j(e)},type:"text"}),Object(l.jsx)("input",{className:"search-button",type:"submit",onClick:function(){return s()},value:"search"})]}),Object(l.jsx)(I.a,{})]})},L=n(168),B=n(170),J=n(171),P=n(157),W=n(87),H=n.n(W),_=n(88),G=n.n(_),Q=function(e){var t=e.forecast,n=Object(o.c)((function(e){return e.toggleReducer.toggleTemp})),c=t.Temperature,a=c.Maximum,r=c.Minimum,i=t.Day.IconPhrase,s=t.currentDay,u=(new Date).toLocaleString().replace(",","");s=new Date(s).toLocaleString("en-us",{weekday:"long"}),u=u.slice(u.length-2);var j={transition:{duration:7,delay:1.5},visible:{opacity:1,y:"0px"},hidden:{opacity:0,y:"40vh"}},b=function(e){return Math.floor(5*(e-32)/9)};return Object(l.jsx)(P.a.div,{className:"ForecastsCard-container",children:Object(l.jsxs)(L.a,{component:P.a.div,whileHover:{scale:1.2,transition:{duration:.3}},whileTap:{scale:.9},className:"ForecastsCard",children:[Object(l.jsxs)(B.a,{className:"card-content",children:[Object(l.jsxs)(J.a,{gutterBottom:!0,variant:"h3",component:"div",children:[s,"AM"===u?Object(l.jsx)(H.a,{variants:j,initial:"hidden",animate:"visible",component:P.a.svg,style:{color:"yellow",fontSize:"3rem"},className:"weather-icon-".concat(u)}):Object(l.jsx)(G.a,{variants:j,initial:"hidden",animate:"visible",component:P.a.svg,style:{color:"black",fontSize:"3rem"},className:"weather-icon-".concat(u)})]}),Object(l.jsx)(J.a,{gutterBottom:!0,variant:"h4",component:"div",children:i}),Object(l.jsxs)(J.a,{variant:"h5",color:"text.secondary",children:["Min:","Imperial"===n?b(r.Value):r.Value]}),Object(l.jsxs)(J.a,{variant:"h5",color:"text.secondary",children:["Max:","Imperial"===n?b(a.Value):a.Value]})]}),Object(l.jsx)("div",{class:"custom-shape-divider-bottom-1637765530",children:Object(l.jsx)("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:Object(l.jsx)("path",{d:"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z",style:{fill:"AM"===u?"#9af2ff":"#2f2b3c"}})})})]})})},q=function(){var e=Object(o.c)((function(e){return e.cityReducer})).Key,t=Object(o.c)((function(e){return e})).forecastsReducer,n=Object(o.b)(),a=function(){var t=Object(E.a)(D.a.mark((function t(){var c;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K(e);case 3:c=t.sent,n({type:x,payload:c}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(I.b)("cant update forecasts");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),r={transition:{duration:5,delay:1.5},visible:{x:"0vw"},hidden:{x:"-100vw"}};return Object(c.useEffect)((function(){a()}),[e]),Object(l.jsxs)("div",{className:"weather-container",children:[Object(l.jsx)(V,{}),Object(l.jsxs)("div",{className:"forecasts-map-container",children:[function(e){return console.log(e),null===e||void 0===e?void 0:e.map((function(e,t){return Object(l.jsx)(Q,{component:P.a.div,initial:"hidden",animate:"visible",variants:r,forecast:e},t)}))}(t),Object(l.jsx)(I.a,{})]})]})},U=n(19),Z=n(172),Y=function(e){var t,n,a=e.city,r=Object(F.f)(),s=Object(o.b)(),u=Object(c.useState)(),j=Object(i.a)(u,2),b=j[0],d=j[1],h=Object(o.c)((function(e){return e.toggleReducer.toggleTemp})),p=function(){var e=Object(E.a)(D.a.mark((function e(){var t,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K(a.Key);case 3:t=e.sent,n=t.DailyForecasts,s({type:v,payload:n}),s({type:O,payload:a}),r({pathname:"/weather-app"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Object(I.b)("city not found");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(E.a)(D.a.mark((function e(){var t,n,c,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z(a);case 3:t=e.sent,n=t[0].ApparentTemperature,c=n.Imperial,r=n.Metric,d({Imperial:c,Metric:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object(I.b)("can't get weather for this city");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){f()}),[]),Object(l.jsxs)(L.a,{className:"favoriteCard",children:[Object(l.jsxs)(B.a,{children:[Object(l.jsx)(J.a,{color:"text.primary",children:Object(l.jsx)(J.a,{style:{fontFamily:"Assistant",textAlign:"center"},gutterBottom:!0,variant:"h3",component:"div",children:a.LocalizedName})}),Object(l.jsxs)(J.a,{style:{fontFamily:"Assistant",textAlign:"center"},gutterBottom:!0,variant:"div",component:"h3",children:[Object(l.jsx)(J.a,{style:{fontFamily:"Assistant",textAlign:"center"},gutterBottom:!0,variant:"h3",component:"div",children:h}),Object(l.jsx)(J.a,{style:{fontFamily:"Assistant",textAlign:"center"},gutterBottom:!0,variant:"h3",component:"small",children:"Imperial"===h?null===b||void 0===b||null===(t=b.Imperial)||void 0===t?void 0:t.Value:null===b||void 0===b||null===(n=b.Metric)||void 0===n?void 0:n.Value})]})]}),Object(l.jsx)(Z.a,{children:Object(l.jsx)(C.a,{onClick:function(){return p()},size:"large",children:"Click here "})}),Object(l.jsx)(I.a,{})]})},X=function(){var e=Object(o.c)((function(e){return e.favoriteReducer})),t=Object(c.useState)([{}]),n=Object(i.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){s()}),[]);var s=function(){try{if(!e.length)return;Object(c.useMemo)((function(){u(e)}),[e.length])}catch(t){console.log("error")}},u=function(e){return e.forEach(function(){var e=Object(E.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z(t);case 3:n=e.sent,r([].concat(Object(U.a)(a),[n])),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(I.b)("Cant get favorite cities");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())};return Object(l.jsxs)("div",{className:"favorite-container",children:[Object(l.jsxs)("div",{className:"forecasts-map-container",children:[Object(l.jsx)("h1",{className:"header",children:"Here is your favorite weather:"}),null===e||void 0===e?void 0:e.map((function(e,t){return Object(l.jsx)(Y,{currentWeather:a,city:e},t)}))]}),Object(l.jsx)(I.a,{})]})},$=n(7),ee=n(164),te=n(158),ne=n(165),ce=n(166),ae=n(90),re=n.n(ae),ie=n(173),oe=n(162),se=function(){var e=Object(o.b)(),t=Object(c.useState)(!0),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(o.c)((function(e){return e.toggleReducer})).toggleTheme;return Object(l.jsx)(oe.a,{onClick:function(){return r(!a),void e({type:f,payload:a})},className:"toggle-container-".concat(s),children:Object(l.jsx)(ie.a,{style:{fontFamily:"Assistant",fontSize:"1.2rem",marginRight:"5px"},color:"secondary",size:"medium",children:"Change Unit"})})},le=n(160),ue=n(174),je=n(175),be=n(89),de=n.n(be),he=function(e){var t=e.pathname,n=e.text,c=Object(F.f)();return Object(l.jsxs)(le.a,{button:!0,onClick:function(){return c({pathname:t})},children:[Object(l.jsx)(ue.a,{children:Object(l.jsx)(de.a,{})}),Object(l.jsx)(je.a,{primary:n})]})};function pe(){var e,t=Object(o.c)((function(e){return e.cityReducer})),n=Object(c.useState)({left:!1}),a=Object(i.a)(n,2),r=a[0],s=a[1],j=function(e,t){return function(n){s(Object($.a)({},e,t))}},b=[{pathname:"/weather-app/favorites",text:"favorite"},{pathname:"/weather-app",text:"weather"}];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(C.a,{style:{zIndex:10},onClick:j("left",!0),children:Object(l.jsx)(re.a,{})}),Object(l.jsx)(te.a,{anchor:"left",open:r.left,onClose:j("left",!1),onOpen:j("left",!0),children:(e="left",Object(l.jsxs)(ee.a,{sx:{width:"top"===e||"bottom"===e?"auto":200},role:"presentation",onClick:j(e,!1),onKeyDown:j(e,!1),children:[Object(l.jsxs)(ne.a,{children:[b.map((function(e,t){return Object(l.jsx)(he,{pathname:e.pathname,text:e.text},t)})),Object(l.jsx)(S,{}),Object(l.jsx)(se,{}),Object(l.jsx)(g,{}),Object(l.jsx)(k,{})]}),Object(l.jsx)(u,{favoriteCity:t}),Object(l.jsx)(ce.a,{})]}))})]})}var fe=function(){var e=Object(c.useState)(window.innerWidth),t=Object(i.a)(e,2),n=t[0],a=t[1];Object(o.c)((function(e){return e.cityReducer}));return Object(c.useEffect)((function(){window.addEventListener("resize",(function(){return a(window.innerWidth)}))}),[]),Object(l.jsx)(s.a,{children:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:M(n)&&"layout-container",children:M(n)?Object(l.jsx)(pe,{}):Object(l.jsx)(A,{})}),Object(l.jsxs)(F.c,{children:[Object(l.jsx)(F.a,{path:"/",exact:!0,element:Object(l.jsx)(q,{})}),Object(l.jsx)(F.a,{path:"/Weather-app",exact:!0,element:Object(l.jsx)(q,{})}),Object(l.jsx)(F.a,{path:"/Weather-app/favorites",exact:!0,element:Object(l.jsx)(X,{})})]})]})})},Oe=function(){return Object(l.jsx)("div",{className:"Footer-container",children:Object(l.jsx)("div",{className:"social-links",children:Object(l.jsx)("div",{className:"olympic-info",children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:"Cookie Policy"}),Object(l.jsx)("li",{children:"Cookie Settings"}),Object(l.jsx)("li",{children:"Privacy Policy"}),Object(l.jsx)("li",{children:"Terms of Service"})]})})})})},ve=function(){var e=Object(o.c)((function(e){return e.toggleReducer.toggleTheme}));return Object(l.jsxs)("div",{className:e,children:[Object(l.jsx)(fe,{}),Object(l.jsx)(Oe,{})]})};var xe=function(){return Object(l.jsx)(ve,{})},me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,176)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},ye=n(49),ge=n(91),we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return e.length&&e.find((function(e){return e.Key===t.payload.Key}))?e:[].concat(Object(U.a)(e),[t.payload]);case y:var n=e.filter((function(e){return e.Key!==t.payload}));return n;default:return e}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{LocalizedName:"Tel Aviv",Key:"215854",WeatherText:"Mostly cloudy"},t=arguments.length>1?arguments[1]:void 0;if(t.type===O){console.log(e);var n=t.payload,c=n.LocalizedName,a=n.Key,r=n.WeatherText;return{LocalizedName:c,Key:a,WeatherText:r}}return e},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:var n=t.payload.map((function(e){return{Temperature:e.Temperature,currentDay:e.Date,Day:e.Day}}));return n;case x:var c=t.payload.DailyForecasts.map((function(e){return{Temperature:e.Temperature,currentDay:e.Date,Day:e.Day}}));return c;default:return e}},Te=n(37),Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{toggleTheme:"light",toggleTemp:"Metric"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.payload?Object(Te.a)(Object(Te.a)({},e),{},{toggleTheme:"dark"}):Object(Te.a)(Object(Te.a)({},e),{},{toggleTheme:"light"});case f:return t.payload?Object(Te.a)(Object(Te.a)({},e),{},{toggleTemp:"Imperial"}):Object(Te.a)(Object(Te.a)({},e),{},{toggleTemp:"Metric"});default:return e}},Se=Object(ye.b)({toggleReducer:Ce,favoriteReducer:we,cityReducer:Ne,forecastsReducer:ke}),Ae=Object(ye.d)(Se,Object(ye.c)(Object(ye.a)(ge.a)));r.a.render(Object(l.jsx)(o.a,{store:Ae,children:Object(l.jsx)(xe,{})}),document.getElementById("root")),me()},26:function(e,t,n){}},[[119,1,2]]]);
//# sourceMappingURL=main.bccfdd73.chunk.js.map